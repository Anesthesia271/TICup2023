# 通信协议（我也不懂！我是瞎写的！请技术部部长批评指正！）

## 训练赛

1.	启动信息：上位机发“GO”，小车不用回复
2.	目标点信息：上位机发”x&y”，x为横坐标，y为纵坐标
3.	停止信息：上位机向小车发送停止信息“STOP”，小车应该即刻停下

## 正赛（包括初赛和决赛吧）

1. [x] 地图信息：上位机发送地图信息，以坐标+电压等级的形式发送，如“5 8 2 9 8 1 4 3 3”，表示(5,8)上有一个电压等级为2的杆塔，(9,8)上有一个电压等级为1的杆塔，(4,3)上有一个电压等级为3的杆塔，总信息以#开始和结束，例如#5 8 2 9 8 1 4 3 3# 。障碍点电压等级为0
2. [x] 启动信息：上位机发“GO”，小车不用回复
3. [x] 消除信息：小车在要消除的第一个点上停止，向上位机发送”CLEAR1”，上位机发送”GET1”表示收到信息，小车不用回复，继续行动。小车在要消除的第二个点上停止，向上位机发送”CLEAR2”，上位机发送”GET2”表示收到信息，小车不用回复，继续行动；上位机计分。
4. [x] 紧急停止信息：如果小车进行了非法行动，上位机向小车发送停止信息“STOP”，小车应该即刻停下
5. [x] 行动结束：小车步数用完后，上位机向小车发送“END”，若小车仍在移动，则需要立即停下，否则按犯规，本次成绩无效。

# 甲方对于上位机程序的构想！！！

考虑到我们本次比赛需要全程直播（在b站），所以我们需要让我们的上位机前端尽可能的让人看懂

训练赛不考虑前端的问题了，正赛和决赛的话，前端需要包含这些内容：

1.	相机拍摄到的赛场画面
2.	模拟的赛场画面，包括点的信息，不同分数的点用不同颜色表示。
3.	小车目前的得分信息，步数信息
4.	手动向小车发送GO和STOP信息

对于程序的一些简单的要求

1.	相机拍摄赛场画面，在前端显示
2.	处理赛场画面，得到模拟的10*10的赛场图，上面标有小车的位置和分数点，障碍点。消除后分数点自动消失。每个分数点上能显示不同的颜色
3.	比赛开始后，确认小车所在的开始起点（在决赛，这个点不必要是原点），实时显示小车的行动路径
4.	计算小车的得分和剩余步数。这个最长步数在决赛不必要是定值，可以修改
5.	手动向小车发送GO和STOP信息，统计小车的运动时间
6.	看看能不能有一个实时的分数排行榜，按得分排名，得分相同算时间



